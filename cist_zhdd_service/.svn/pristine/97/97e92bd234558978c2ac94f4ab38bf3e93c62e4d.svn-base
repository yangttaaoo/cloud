<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cist.tqrw.mapper.TqrwMapper" >

<select id="selectAll" resultType="com.cist.tqrw.model.SpecialMission" parameterType="java.util.HashMap">
		select t.*,p.sypi_name,d.dept_name,g.grade_name from zhdd_special_mission t left join sys_police_info p
		on t.fk_create_founder_id=p.sypi_pk left join sys_depart_info d
		on t.fk_dept_id=d.dept_pk left join zhdd_mission_grade g on t.fk_mission_grade_id=g.pk_id
		<where>
			<if test="mission_name != null and mission_name != ''">
				and lower(t.MISSION_NAME) like lower('%'||#{mission_name}||'%')
			</if>
			<if test="fk_mission_grade_id != null and fk_mission_grade_id != ''">
				and t.FK_MISSION_GRADE_ID=#{fk_mission_grade_id}
			</if>
		</where>
</select>

<select id="selectCount" resultType="java.lang.Integer">
		select count(0) from ZHDD_SPECIAL_MISSION s
</select>

<select id="selectGrades" resultType="com.cist.tqrw.model.MissionGrade">
		select * from zhdd_mission_grade
</select>

<select id="selectPolice" resultType="com.cist.tqrw.model.Police">
		select t.sypi_pk code,t.sypi_name title from sys_police_info t
</select>

<select id="selectPoliceCar" resultType="com.cist.tqrw.model.Police">
		select t.pk code,t.plateno title from q_police_car t
</select>

</mapper>